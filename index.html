<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>My Octopress Blog</title>
  <meta name="author" content="Your Name">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://yoursite.com">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="My Octopress Blog" type="application/atom+xml">

  <link href="/assets/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/assets/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">


  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>
  

</head>

  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">My Octopress Blog</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="http://google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:yoursite.com">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9">
    <div class="blog-index">
      
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-04-09T12:45:53+01:00" pubdate data-updated="true">Apr 9<span>th</span>, 2013</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2013/04/09/migrate-wordtour-openmusicfestival/">Migrate From WordTour to OpenMusicFestival</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>The reason I created [OpenMusicFestival](<a href="http://www.openmusicfestival.com">http://www.openmusicfestival.com</a>) in the first place was so that I could migrate [MotionNotion.com](<a href="http://www.motionnotion.com">http://www.motionnotion.com</a>) from WordPress (And its unsupported WordTour plugin) to Drupal 7. While I suspect my original use of WordTour for a music festival was slightly weird (The system was designed for small record labels, but relationship between artists, events and venues made it work for my purposes), I&rsquo;m releasing my Artist migration class in case somebody finds it useful and wants to migrate to OpenMusicFestival. Note that this only migrates Artists — the Event and Venues parts are incomplete (On that note, if somebody wants to do those, I&rsquo;ll happily both give you credit on the project as well as include the code with OMF.). ~~~</p>

<p>&lt;?php
/<em><em>
 * @file
 *  Migrate content from WordTour (WP) to OMF (Drupal)
 *
 *  NOTE: THIS IS WOEFULLY INCOMPLETE. I would </em>love</em> to give somebody credit
 *  for tidying up and completing this.
 */</p>

<p>class WordTourMigration extends Migration {
  public $wp_prefix = &lsquo;wp_&rsquo;; //This is the entire first part of the table name.
  public $wp_db = &lsquo;&rsquo;;
  public $wp_user = &lsquo;&rsquo;;
  public $wp_pass = &lsquo;&rsquo;;
  public $wp_host = &lsquo;localhost&rsquo;;</p>

<p>  public function __construct() {</p>

<pre><code>// Always call the parent constructor first for basic setup
parent::__construct();

// With migrate_ui enabled, migration pages will indicate people involved in
// the particular migration, with their role and contact info. We default the
// list in the shared class; it can be overridden for specific migrations.
$this-&gt;team = array( new MigrateTeamMember('Ændrew Rininsland', 'aendrew@aendrew.com', t('Developer')), ); // Individual mappings in a migration can be linked to a ticket or issue // in an external tracking system. Define the URL pattern here in the shared // class with ':id:' representing the position of the issue number, then add // -&gt;issueNumber(1234) to a mapping. $this-&gt;issuePattern = 'http://drupal.org/node/:id:'; } } /\** *| There are four essential components to set up in your constructor: * $this-&gt;source - An instance of a class derived from MigrateSource, this * will feed data to the migration. * $this-&gt;destination - An instance of a class derived from MigrateDestination, * this will receive data that originated from the source and has been mapped * by the Migration class, and create Drupal objects. * $this-&gt;map - An instance of a class derived from MigrateMap, this will keep * track of which source items have been imported and what destination objects * they map to. * Mappings - Use $this-&gt;addFieldMapping to tell the Migration class what source * fields correspond to what destination fields, and additional information * associated with the mappings. */ class ArtistMigration extends WordTourMigration { public function \_\_construct() { parent::\_\_construct(); //Set up other database Database::addConnectionInfo('wp', 'default', array( 'driver' =&gt; 'mysql', 'database' =&gt; $this-&gt;wp\_db, 'username' =&gt; $this-&gt;wp\_user, 'password' =&gt; $this-&gt;wp\_pass, 'host' =&gt; $this-&gt;wp\_host, 'prefix' =&gt; $this-&gt;wp\_prefix, )); $this-&gt;description = t('Migrate the artists!'); $this-&gt;map = new MigrateSQLMap($this-&gt;machineName, array( 'artist\_id' =&gt; array( 'type' =&gt; 'int', 'length' =&gt; 7, 'not null' =&gt; TRUE, 'description' =&gt; 'Artist ID', ) ), MigrateDestinationNode::getKeySchema() ); $query = Database::getConnection('default', 'wp') -&gt;select('wtr\_artists', 'a'); $query-&gt;join('wtr\_attachment', 'at', 'a.artist\_id = at.attachment\_target\_id'); $query-&gt;join('wtr\_attachment', 'att', 'a.artist\_id = att.attachment\_target\_id'); $query-&gt;join('postmeta', 'pm', 'pm.post\_id = att.attachment\_type\_id'); $query-&gt;fields('a', array( 'artist\_id', 'artist\_name', 'artist\_publish\_date', 'artist\_bio', 'artist\_record\_company', 'artist\_social\_links', ) ); //$query-&gt;fields('att', array('attachment\_info')); $query-&gt;fields('pm', array('meta\_value')); //$query-&gt;addField('pm', 'meta\_value', 'photo'); $query-&gt;addExpression('GROUP\_CONCAT(DISTINCT at.attachment\_info)', 'genres'); //Pull in genres. $query-&gt;condition('at.attachment\_target', 'artist'); $query-&gt;condition('at.attachment\_type', 'genre'); $query-&gt;condition('att.attachment\_type', 'thumbnail'); $query-&gt;condition('pm.meta\_key', '\_wp\_attached\_file'); $query-&gt;groupBy('a.artist\_id'); // Create a MigrateSource object, which manages retrieving the input data. $this-&gt;source = new MigrateSourceSQL($query, array(), NULL, array('map\_joinable' =&gt; FALSE)); // Set up our destination $this-&gt;destination = new MigrateDestinationNode('artist', array('text\_format' =&gt; 'full\_html')); // Assign mappings TO destination fields FROM source fields. $this-&gt;addFieldMapping('title', 'artist\_name'); $this-&gt;addFieldMapping('uid') -&gt;defaultValue(1); $this-&gt;addFieldMapping('changed', 'artist\_publish\_date'); $this-&gt;addFieldMapping('status') -&gt;defaultValue(1); $this-&gt;addFieldMapping('promote', '') -&gt;defaultValue(0); $this-&gt;addFieldMapping('sticky', '') -&gt;defaultValue(0); $this-&gt;addFieldMapping('revision') -&gt;defaultValue(0); $this-&gt;addFieldMapping('log') -&gt;defaultValue('Migrated to Drupal 7 from WordPress.'); $this-&gt;addFieldMapping('comment') -&gt;defaultValue(1); $this-&gt;addFieldMapping('body', 'artist\_bio') -&gt;arguments(array('format' =&gt; 'full\_html')) -&gt;description('See prepareRow()'); $this-&gt;addFieldMapping('created', 'artist\_publish\_date'); $this-&gt;addFieldMapping('field\_labels', 'artist\_record\_company') -&gt;separator(', ') -&gt;arguments(array('create\_term' =&gt; true)); //$this-&gt;addFieldMapping('path', ''); //$this-&gt;addFieldMapping('pathauto', ''); $this-&gt;addFieldMapping('field\_photo', 'meta\_value'); $this-&gt;addFieldMapping('field\_photo:source\_dir') -&gt;defaultValue('/Users/aendrew/Sites/mn\_wp'); $this-&gt;addFieldMapping('field\_photo:preserve\_files') -&gt;defaultValue(true); $this-&gt;addFieldMapping('field\_photo:destination\_file', 'meta\_value'); $this-&gt;addFieldMapping('field\_photo:file\_replace') -&gt;defaultValue(MigrateFile::FILE\_EXISTS\_REUSE); $this-&gt;addFieldMapping('field\_photo:alt', 'artist\_name'); $this-&gt;addFieldMapping('field\_photo:title', 'artist\_name'); $this-&gt;addFieldMapping('field\_links', 'artist\_social\_links') -&gt;description('See prepare()'); //Needs to be unserialized $this-&gt;addFieldMapping('field\_genres', 'genres') -&gt;separator(',') -&gt;arguments(array('create\_term' =&gt; true)); } public function prepareRow($row) { //Prepare Thumbnails $thumb = trim($row-&gt;meta\_value); //watchdog('migrate', 'Filename is ' . $thumb); $row-&gt;meta\_value = 'wp-content/uploads/' . $thumb; } public function prepare(stdClass $node, stdClass $row) { //Set up the links $links = unserialize($row-&gt;artist\_social\_links); $empty = 'a:10:{s:13:"artist\_flickr";s:0:"";s:14:"artist\_youtube";s:0:"";s:12:"artist\_vimeo";s:0:"";s:15:"artist\_facebook";s:0:"";s:14:"artist\_twitter";s:0:"";s:13:"artist\_lastfm";s:0:"";s:14:"artist\_myspace";s:0:"";s:15:"artist\_bandcamp";s:0:"";s:13:"artist\_tumblr";s:0:"";s:19:"artist\_reverbnation";s:0:"";}'; if ($node-&gt;field\_links\[LANGUAGE\_NONE\]\[0\]\['url'] == $empty) { unset($node-&gt;field\_links); } else { $i = 0; foreach ($links as $site =&gt; $link) { if (!empty($link)) { $site\_name = ucfirst(str\_replace('artist\_', '', $site)); if ($site\_name == "Youtube") $site\_name = "YouTube"; if ($site\_name == "Lastfm") $site\_name = "Last.fm"; if ($site\_name == "Youtube") $site\_name = "YouTube"; if ($site\_name == "Myspace") $site\_name = "MySpace"; $node-&gt;field\_links[LANGUAGE\_NONE\]\[$i\]\['title'] = $site\_name; $node-&gt;field\_links[LANGUAGE\_NONE\]\[$i\]['url'] = urldecode($link); $i++; } } } } } ~~~ Did this help you out? Have I saved you a tonne of time? Please leave me a comment letting me know!
</code></pre>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-03-11T00:00:00+00:00" pubdate data-updated="true">Mar 11<span>th</span>, 2013</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2013/03/11/podsix-lives/">PodSix Lives!</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>After Minehost went belly-up, the communal Minecraft server I played on went dead —and stayed dead — for about 6 months. However, I have revived it, on brand spanking new hardway and several major iterations of Minecraft later! Not only that, but it&rsquo;s running the bad-assery that is Tekkit Lite, which means you can do crazy things like build automated mining robots, write simple computer programs **in-game**, harness the power of volcanoes, *<strong>|even create whole new dimensions via books like in Myst.*</strong>| Seriously, I have no idea why it took me so long to get on top of Tekkit. That shiz&rsquo;s cray. Because there&rsquo;s not much in terms of anti-griefing code on the server right now, it&rsquo;s invitation-only. Please contact me either via [email](<a href="http://aendrew.com/contact">http://aendrew.com/contact</a>), [Twitter](<a href="http://twitter.com/aendrew">http://twitter.com/aendrew</a>), Facebook, etc. if you want the address.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-03-10T00:00:00+00:00" pubdate data-updated="true">Mar 10<span>th</span>, 2013</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2013/03/10/new-project-github-pages-drupal-7-also-im-git-vetted/">New Project: GitHub Pages for Drupal 7 (Also: I&#8217;m Git Vetted!)</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>Over the last few months working with Drupal, I&rsquo;ve wanted to become a more productive member of the community. To that end, I&rsquo;ve been working on getting a full project approved in order to get &ldquo;Git vetted&rdquo; and thus be able to create full projects on Drupal.org. [A bunch of work, six code reviews and a boatload of PAReview&#8217;ing later](<a href="http://drupal.org/node/1914740">http://drupal.org/node/1914740</a>), I now have full project access and have started by creating GitHub Pages, which allows users to post copies of individual nodes to [GitHub&rsquo;s free HTML page hosting service](<a href="http://pages.github.com">http://pages.github.com</a>). This is a core bit of functionality for [VizCloud](<a href="http://vizcloud.org">http://vizcloud.org</a>), intended to reduce server load on high-traffic nodes (For instance, a data visualization embedded in a news article). Let me know if you like it or have any comments! I need to refine it a bunch still too — and absolutely love it when people submit patches in the issue queue. ## [drupal.org/project/ghpages](<a href="http://www.drupal.org/project/ghpages">http://www.drupal.org/project/ghpages</a>)</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-02-18T00:00:00+00:00" pubdate data-updated="true">Feb 18<span>th</span>, 2013</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2013/02/18/new-project-openmusicfestival/">New Project: OpenMusicFestival</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>OpenMusicFestival is a Drupal distribution enabling music festivals of all sizes to create a rich, semantically-enabled website. Functionality includes extensive artist listings (Complete with Soundcloud and YouTube streams), schedules, venue listings — and because it&rsquo;s Drupal, more functionality like ticket sales and forums are only a module installation away. [OpenMusicFestival.com](<a href="http://openmusicfestival.com">http://openmusicfestival.com</a>) [Twitter](<a href="https://twitter.com/openmusicfestvl">https://twitter.com/openmusicfestvl</a>) [Drupal.org Project](<a href="http://www.drupal.org/project/openmusicfestival">http://www.drupal.org/project/openmusicfestival</a>) Want to help out? I need a logo and a theme — would love to collaborate with anyone willing to help out with those!</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-01-24T00:00:00+00:00" pubdate data-updated="true">Jan 24<span>th</span>, 2013</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2013/01/24/help-me-launch-visualization-groupsdrupalorg/">Help Me Launch Visualization on groups.drupal.org!</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>I&rsquo;m trying to start a group on G.D.O dedicated to [visualization with Drupal](<a href="http://groups.drupal.org/visualization">http://groups.drupal.org/visualization</a>). We need more members and activity before being promoted to a full group — if interested, please join! ## [groups.drupal.org/visualization](<a href="http://groups.drupal.org/visualization">http://groups.drupal.org/visualization</a>)</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-01-23T00:00:00+00:00" pubdate data-updated="true">Jan 23<span>rd</span>, 2013</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2013/01/23/new-project-vizcloud/">New Project: VizCloud</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>In my ongoing quest to make a non-Java-based ManyEyes clone, I have launched VizCloud, a Drupal distribution intended to allow simple dataset upload and visualization construction. I pretty much have the dataset parts down (Provided and maintained via SocialCalc through [Sheetnode](<a href="http://drupal.org/project/sheetnode">http://drupal.org/project/sheetnode</a>), though I&rsquo;m currently still developing the visualization aspect (Provided via d3.js — anyone with experience creating models in d3, please get back to me!). ## [VizCloud.org](<a href="http://vizcloud.org">http://vizcloud.org</a>) ## [Twitter](<a href="http://www.twitter.com/vizcloud">http://www.twitter.com/vizcloud</a>) ## [GitHub](<a href="https://github.com/aendrew/vizcloud">https://github.com/aendrew/vizcloud</a>)</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2013-01-15T00:00:00+00:00" pubdate data-updated="true">Jan 15<span>th</span>, 2013</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2013/01/15/new-project-drupalinstallerkdapp/">New Project: DrupalInstaller.kdapp</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>Use [Koding.com](<a href="http://www.koding.com">http://www.koding.com</a>)? Want to install Drupal — with Drush — really easily? Now you can, with my snazzy new Drupal Installer app. Just add it to your account&rsquo;s apps via GitHub and you&rsquo;ll have both a way to deploy Drupal in under 5 minutes, but also a control panel to manage your various sites. Free cloud-based Drupal website hosting? Yes, please! ## [GitHub](<a href="https://github.com/aendrew/DrupalInstaller.kdapp">https://github.com/aendrew/DrupalInstaller.kdapp</a>)</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-11-04T20:04:01+00:00" pubdate data-updated="true">Nov 4<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2012/11/04/economist-sinodependency-treemap/">Economist: Sinodependency Treemap</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>For another treemap I did for [The Economist](<a href="http://www.economist.com">http://www.economist.com</a>), I mapped dependency of how exposed various S&amp;P500 companies are to declining investment in China. See: <a href="http://www.economist.com/blogs/graphicdetail/2012/09/sinodependency-index">http://www.economist.com/blogs/graphicdetail/2012/09/sinodependency-index</a></p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-11-04T20:01:42+00:00" pubdate data-updated="true">Nov 4<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2012/11/04/economist-olympic-medal-map/">Economist: Olympic Medal Map</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>For a project I did for the Economist, I created a treemap script that could be easily updated via Google Spreadsheets every day, allowing a running tally of Olympics medals for each country and event. Day 1: <a href="http://www.economist.com/blogs/graphicdetail/2012/07/olympic-medal-map-day-1-0">http://www.economist.com/blogs/graphicdetail/2012/07/olympic-medal-map-day-1-0</a> Day 2: <a href="http://www.economist.com/blogs/graphicdetail/2012/07/olympic-medal-map-day-2">http://www.economist.com/blogs/graphicdetail/2012/07/olympic-medal-map-day-2</a> Day 3: <a href="http://www.economist.com/blogs/graphicdetail/2012/07/olympic-medal-map-day-3">http://www.economist.com/blogs/graphicdetail/2012/07/olympic-medal-map-day-3</a> Day 4: <a href="http://www.economist.com/blogs/graphicdetail/2012/07/olympic-medal-map-day-4">http://www.economist.com/blogs/graphicdetail/2012/07/olympic-medal-map-day-4</a> Day 5: <a href="http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-5">http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-5</a> Day 6: <a href="http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-6">http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-6</a> Day 7: <a href="http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-7">http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-7</a> Day 8: <a href="http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-8">http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-8</a> Day 9: <a href="http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-9">http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-9</a> Day 10: <a href="http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-10">http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-10</a> Day 11: <a href="http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-11">http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-11</a> Day 12: <a href="http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-12">http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-12</a> Day 13: <a href="http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-13">http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-13</a> Day 14: <a href="http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-14">http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-14</a> Day 15: <a href="http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-15">http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-15</a> Day 16: <a href="http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-16">http://www.economist.com/blogs/graphicdetail/2012/08/olympic-medal-map-day-16</a> The treemap was created via [The Javascript Infoviz Toolkit](<a href="http://thejit.org/">http://thejit.org/</a>), with Google Spreadsheet data [pushed via PHP](<a href="http://www.ravelrumba.com/blog/json-google-spreadsheets/">http://www.ravelrumba.com/blog/json-google-spreadsheets/</a>).</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-07-08T15:37:37+01:00" pubdate data-updated="true">Jul 8<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/blog/2012/07/08/ma-project-rainfall-uk-music-festivals/">MA Project: Rainfall at UK Music Festivals</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>For my MA project, I compiled a massive database of popular outdoor British music festivals and cross-referenced that with Met Office weather data. I then fed this into a Drupal install to make it all fancy and consumable via [RDF/Sparql](<a href="http://festivals.aendrew.com/sparql">http://festivals.aendrew.com/sparql</a>). [Visit the result here.](<a href="http://festivals.aendrew.com">http://festivals.aendrew.com</a>) What follows is the article that accompanied it. -&mdash;| ## Rainfall at UK music festivals, or, How I Learned to Stop Worrying and Love The Rain This year’s Isle of Wight festival made the news — but not due to any of its headliners. An unseasonably wet June caused a variety of problems, ranging from flooded tents to the small island being turned into one giant traffic jam after a main parking area was closed on Thursday — ferries were unable to unload their passengers and had to wait in the channel for hours. For some, it appears to have been a miserable time. “When we finally got through the gates on Friday we got to see the last 3 songs of Feeders set,” said ‘joji,’ a user on the Isle of Wight festival forum. “Never again!! Total rip off. Spent most of the weekend bored senseless.” “[I] went to IOW fest in 2002, [it was] well organised, so came back this year due to an awesome lineup,” said ‘alexshep62,’ another forum commenter. “I will not come back next year, and probably never again unless there is a really good lineup.” Others, however, had a much more positive experience. “Everyone [I went with] had such a good time despite the rain,” said first-time festivalgoer Georgina Jamieson, who traveled all the way from Edinburgh. “I fell in the mud, but it only really went on my arm — my sister was laughing at me so hard that she nearly fell in too! This dad and daughter were really sweet, though; they gave me tissue and some water to clean up while I was queuing.” Other commenters on the forums seemed in agreement with Jamieson. “I know some on this forum have complained [about] organization but I felt most everything was carried out timely and without too much hassle,” said ‘chewse,’ a 50 year-old couple who had traveled from Texas for the event. “If I had to choose one thing that dampened our spirit it was the weather on Saturday. We adapted to the mud pretty good (we bought ‘Wellies’ while there) but the rain pouring down while trying to watch Pearl Jam was a bummer.” For both the festivalgoer and the festival planner, weather is one variable that cannot be controlled. Yet even at the same event, one encounters wildly varying experiences — is it all just a matter of opinion? Are some willing to tolerate bad weather more than others? And how much does preparation play into it? Floundering at Field Day When my girlfriend and I attended Field Day this year, two things astonished us. The first was the amount of rain, which started just as headliner Franz Ferdinand went on stage and was so bad that it forced us to abandon the festival early. Walking through what we thought was a torrential downpour while we desperately searched for a bus route that hadn’t been diverted by the Metropolitan Police Service, it dawned on us two Canadian expats that even the rainiest North American festival paled in comparison with what we had just experienced at Field Day. Yet the second thing that surprised us was the amazing tenacity of many British festivalgoers, who kept dancing just as hard in the rain as in sunshine. I would later learn that this year’s Field Day festival was actually the third least rainy of all those festivals thus far — an insignificant 0.41mm, a light drizzle compared to the 4.39mm in 2007. Needless to say, precipitation factors into UK festivals in ways continental events couldn’t even imagine. To better prepare myself for future festivals, I began accumulating data for every major ongoing outdoor festival in the UK. I then combined it with Met Office historical precipitation data to find which festivals are the rainiest. However, I found that, while rain is often inevitable, what makes the biggest difference is how prepared — both mentally and logistically — everyone is for its presence. The view from backstage Meet Leon Milner, who worked as an artist liaison at this year’s Isle of Wight festival, and as a volunteer organizer at Bestival in 2008 — another incredibly rainy festival. Although he admits working at a festival can often be easier simply just by being able to access quieter, drier areas, that doesn’t change the fact that festival workers still have to be out in sometimes adverse weather whether they like it or not. “There comes a point where you can’t get any more muddy or wet and you just have to get on with it,” he said. “Everyone who works at a festival is linked to someone else; if one part fails, a ripple effect starts. Someone’s late, you’re held up, the band you’re looking after is waiting… Et cetera. “With sunny weather this isn’t really an issue. No one minds waiting in the sun. However, when you’re wet and damp, then time is often amplified. A minute feels like 5 minutes.” Citing humour as his main coping mechanism, Milner notes that adverse weather tends to bring everyone working at festivals closer together. “It can be tough to keep positive and warm during the festival; however, there’s always seems to be a ‘Dunkirk spirit’ with all the staff in the area you’re working in,” he said. “I think during sunny weather there isn’t this closeness. Moments of extreme weather always seem to bring people together.” It’s often not the rain that’s particularly problematic, however, so much as all that comes with it — for Bestival 2008 it was wind, which caused the roof of one stage to collapse (fortunately, it was closed at the time). For Isle of Wight 2012, however, the bigger problem was the mud: “As soon as you have a heavy downpour you get sludge mud. It’s wet, drippy and soaks through everything. Once the sun comes out, you get sticky mud, which clings to boots and makes everything so heavy. After two days of sun, you get hard mud — which, after three days of festival walking, is like walking on concrete.” “The mindset of festival organisers is that the sun will always shine,” he added. “And to be fair, the IoW fest has had many years of glorious sunshine. Unfortunately, 55,000 people all walking on the same bit of mud keeps it churned. Bestival also was unprepared for the heavy rain in 2008, however, now they have spare metal tracking and other assets to use if it does rain. “In short it takes a bad event for a festival to then become prepared. Perhaps it’s a more reactive than proactive mindset that exists.” “… And not a drop to drink.” According to the Met Office, the Isle of Wight generally averages 43.4mm of rain for the month of June, compared with 72.6mm for the UK average. It’s generally pretty dry. However, the Isle of Wight has already seen over 100mm this month alone — double its average for June — and the UK itself is in the midst of some incredibly turbulent weather. “April was the wettest on record, however, March was the fifth driest — we only had about 30% of the normal precipitation we’d expect,” said Dan Williams, a spokesperson for the Met Office. “Looking on a little bit further, this June is going to be one of the wettest on record. Exactly where it’s going to finish is hard to say, but it’s likely going to be top five. It’s competing against 2007, which was the wettest on record.” According to Williams, the fact that the Isle of Wight is generally one of the driest areas in the UK could have possibly played a role in making this year’s rains even more adversarial. “In general, those places that see a lot of rain can cope with a lot of rain because of the way the rainfall runs off,” he said. “There are lots of rivers and valleys and they’re generally pretty mountainous areas. “As a general rule, the wettest places are able to cope with that amount of rainfall or else they would flood all the time, and obviously they don’t. But that doesn’t necessarily mean the driest places couldn’t cope with higher rainfall — the fact is that some places can, some places can’t. Each place will have different thresholds.” Although it’s impossible to predict when an area like the Isle of Wight is going to get an excessive amount of rain like it has this month — and the spastic weather these last few months makes it difficult to say with any certainty what any particular festival will be like — having a sense of how geography contributes to the UK’s weather can be helpful. “The wettest regions are the high ground areas — places like Snowdonia, the lake districts and the highlands of Scotland — all on the west side of the country,” said Williams. “Most of our weather comes in via Atlantic weather fronts from the west. Those high ground areas tend to encourage rainfall, so much of the rain will fall when air masses start to rise, which causes increased condensation and rainfall amounts. “Snowdonia, Cumbria and the far northwest of the UK are always the wettest places on average throughout the year. The driest places are the other side of the country for exactly the same reasons — all of that weather comes in from the west, tends to unload on the higher ground, and when it reaches the far south east, a lot of that rain has rained itself out, so you get less in general. I’d say the driest places are around the Thames estuary, for example — Essex, Suffolk and Kent. The south coast of England as well; all the way along, though apparently not the Isle of Wight at the moment!” Given this, southeastern England seems like the ideal part of the country to hold music festivals. But what about when? “Meteorologically, summer for us is June, July and August,” said Williams. “Average rainfall for the UK for June is 72.6mm, July is 69.6mm and August is 89.6mm. Based on that, if you were planning to hold a festival, you’d probably aim for July.” Glastonbury or bust Ben Taylor, guitarist for rockabilly band Scale Electric Drive-by, has been going to music festivals since he was a young child. He recalls many rainy festivals, with Glastonbury in 1997 and 1998 topping his list as the most memorable. With stories ranging from his dad nearly being crushed by two tractors pulling his truck up the hill at Glastonbury one year, to the next year just narrowly missing being covered head-to-toe in human excrement when a pump truck attempting to clear out a dance tent accidentally had its vacuum in reverse, Taylor’s seen it all. His advice to festivalgoers is to be prepared for anything and everything. “Make sure your tent is waterproof — that’s a big one,” he said. “Often people make the mistake of thinking their tents are more waterproof than they actually are. “Definitely bring an extra ground mat. Essentials are ponchos, Wellingtons, waterproof jackets, a good change of clothes, changes of socks — you have to have loads of them, because they’re going to get wrecked. Don’t bring anything you like!” He also advises to ensure that the front of your tent is closed at all times, and especially before heading to any of the stages — a mistake he himself made at last year’s Reading festival. “The weather can start off alright — you leave it open, you have a couple drinks and go off somewhere&hellip; But everything happens in an instant,” he said. He also advises festivalgoers to bring two sleeping bags, with one left in the vehicle in case of emergencies. “I went to a rockabilly festival quite recently and it rained the whole time we were there,” he explained. “My tent was sealed up, but I went to my tent in the evening and everything was soaked, it came from the ground up. Having an extra sleeping bag meant that I didn’t sleep in water that night.” However, his biggest piece of advice is in terms of attitude: “If you go to a festival and let the weather get you down, you’re there for the wrong reasons. You prepare yourself by knowing what the weather is going to be. Anyone going to a festival is going to look up the weather for while they’re there — you’d be foolish not to.” When Wellies are mandatory That’s easy to say for a die-hard like him, but what about the rest of us? Although it’s true rainfall shouldn’t have an effect on which festivals you plan to go to, one can rely on weather reports only so much. And while there’s only so much one can do when weather is as abnormally wet as it is this month, having an idea of how a festival has been in the past can give some clues whether to pack rubber boots, sunscreen — or both. Of all the UK music festivals, the one with the most consistent rain was the Belladrum festival (formerly Tartan Heart festival), which has received 4.3mm of rain on average every day of its existence. Situated in the northern Scotland highlands, the festival is geographically located in the centre of one of the UK’s rainiest areas. How do they deal with the rain? “It’s usually quite warm for us, the wet doesn’t seem to bother our patrons — other than when it is exceptionally rainy, as it was last year,” said a spokesperson for the event. “However, we are continuously upgrading drainage and permanent tracks and always advise people to come well prepared for any weather conditions.” “We also have contingency measures in place to use stage tents as shelter in emergency and the Red Cross attends with access to emergency blankets, heaters, et cetera,” he added. Belladrum festival is followed by Rewind and Latitude festivals, which receive 3.6mm and 3.4mm on average per day, respectively. In terms of the rainiest festival ever, V Festival Chelmsford 2010 received a whopping 14.32mm of rain a day. Comparatively, Fairport’s Cropredy Convention 1982 came in second with 12.84mm and Reading 1982 came in third with 12.51mm. The epically-rainy Glastonbury festivals mentioned by Ben Taylor don’t even place in the top 25, while Bestival 2008 mentioned by Leon Milner came in at 17th (The HadleyUKP dataset, from which I’ve derived historical festival data, won’t be updated until the end of the month. However, another source says that the Isle of Wight received nearly 16mm of rain on the Thursday before the festival, which is quite a lot compared to other festivals historically, but far less dramatic when averaged out over the next few days.). Another way I analyzed festival weather was by calculating what percentage of festival days had rain greater than 1mm. Belladrum festival placed in the top 3 again with 88%, however, it was beaten by Sonisphere and Latitude festivals, neither of which have had a single day in their history without rain (Hint: it’s probably a safe bet to bring your Wellies to any of these.). Meanwhile, the rain at this year’s Isle of Wight festival pushed it from the driest of all festivals (With rain on only 18% of all festival days) to second driest, with rain on 28% of the days the festival has run. As a result, Underage festival in London is now the driest of all. Will any of this help you stay dry, even if you pack all your wet weather gear, two sleeping bags, more pairs of socks than you can shake a stick at and a tent that could survive in the Amazon? Probably not, but knowing what to expect is half the battle to learning how to stop worrying and love the rain – after all, you can either fear the damp and not go to anything, or take it in stride and see it merely as something making this year’s festivals that much more memorable. Isle of Wight festival was contacted but refused comment. ### Annex I: Technical discussion ### As mentioned in my story, the idea for this project originated when my girlfriend and I were rained out of a festival earlier this year. Not only was it not that bad of a storm, but the festival was within an hour’s bus ride from home and involved no camping. I myself have gone to plenty of festivals in western Canada, some stationed in the middle of the Rocky Mountains and involving nearly a week of being outdoors — although the case can certainly be made that we were either unprepared or just wimped out, I nevertheless started wondering how festivalgoers in the UK are able to enjoy outdoor festivals given both the capacity and probability of rain here. The idea really started to take shape, however, when pictures started circulating of this year’s Download festival, showing tents that were completely flooded, and a campground that looked more like a swimming pool than its original intention. When it turned out those photos were from an earlier Glastonbury festival (Download was really rainy but not flooded out, it later emerged), I decided that it might be multifactor — yes, watching music in the rain isn’t the most fun, but the whole thing becomes somewhat unfeasible once your sleeping space becomes absolutely drenched. To this end, I figured it would be interesting to find which festivals got it worst for rain, using historical weather data from the Met Office. On one hand, it could be used to compare this year’s events to ones that have been famously wet, giving a broader picture of how the weather this year compares to others. On the other hand, however, it could perhaps be used in a predictive capacity — if readers are aware that some festivals are rainy 100% of the time, they may be more inclined to better prepare for them. With the recent rain issues at the Isle of Wight festival, I was given a recent news angle to pursue. When I started this project, I honestly thought it would be a lot easier to collect the necessary data than it actually was. Considering how popular these festivals are, I figured there had to be a table somewhere I could scrape, or — better yet — a semantic web resource I could query, that would give me at least the dates and locations of all the festivals I was wanting to include in my project. This, however, was not the case. The most definitive resource I could find for a lot of the major festivals was eFestivals.co.uk (festival-submitted listings of events — highly accurate but only going back to 2001), followed by Wikipedia (itself incomplete and inconsistently formatted — I actually ended up editing and expanding a lot of entries as I continued my research). After querying Stack Overflow about whether such specifics exist somewhere as linked data, it was suggested I build my own data set and release it as a semantic web resource. As a firm proponent of the semantic web and open data — and because I was building this dataset anyway — I felt that aggregating all that data and releasing it as such would not only enable me to do some interesting things with my project, but also allow anyone undertaking similar research to do so much more effectively. To that end, I started aggregating the locations and dates of the major festivals, going all the way back to their origins. For a large number of festivals occurring before 2000, I had to search through Nexus to find news reports or reviews about the festival, the dates of which I then added to my dataset. This alone took the majority of my data-crunching time, and is accessible as a spreadsheet on Google Drive. After completing that, I then imported all 450-odd records into a new Drupal installation, which I decided to use due to its superior ability to not only render content, but also to enable its use as semantic web constructs. This enabled me to conform my data to Schema.org’s MusicEvent and Festival taxonomies, resulting in an expansive resource that can be queried though the site’s own SPARQL endpoint. While 99% of people encountering that aspect won’t know what to do with it, any data journalist or coder wanting the ability to mashup my data with something else can very easily do so, making my project something that ultimately enriches the field. This ability to mashup my data can be seen with the ease that I did so with two different datasets from the Met Office — the Hadley Centre’s HadUKP and HadCET sets. The one most relevant to my project was HadUKP, which charts precipitation in 8 different regions of the UK and is updated monthly (unfortunately, this means festivals this June won’t have data until the end of the month — that said, as in the case of Isle of Wight, I tried to find alternate data elsewhere in the meantime). HadCET is an aggregate measure of air temperature from various parts of the UK and I used it in some charts mainly as a very broad indicator of what the overall UK climate was like during that season (given its variability as a result of its methodology, I didn’t think it appropriate to focus too much on it.). Both of these are now easily accessible to the broader Internet through the two scrapers I’ve built at Scraperwiki, letting other journalists and coders much more easily use that data. I also created a Google Map defining the 8 regions of the HadUKP dataset and enabling me to use geolocation to find out which region any particular festival is in. All of this was joined to the Drupal site through the Google Chart API (and a lot of PHP code), the results of which can be seen on any individual event page, an event taxonomy page or a number of aggregate charts I’ve listed below. At this stage, I had a very complete picture of which were the rainiest festivals in the UK — down to the year — and which were the driest. I used this information when gathering interviews and to rank these festivals in relation to these topics.</p>
</div>
  
  


        </article>
      
    </div>

    <ul class="pager">
      
        <li class="previous"><a href="/blog/page/2/">&larr;&nbsp;Older</a></li>
      
      <li><a href="/blog/archives">Blog Archives</a></li>
      
        <li class="next disabled"><a href="#">Newer&nbsp;&rarr;</a></li>
      
    </ul>
  </div>

  
    <aside class="sidebar col-md-3">
      
        <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/blog/2013/04/09/migrate-wordtour-openmusicfestival/">Migrate From WordTour to OpenMusicFestival</a>
    
    <a class="list-group-item " href="/blog/2013/03/11/podsix-lives/">PodSix Lives!</a>
    
    <a class="list-group-item " href="/blog/2013/03/10/new-project-github-pages-drupal-7-also-im-git-vetted/">New Project: GitHub Pages for Drupal 7 (Also: I&#8217;m Git Vetted!)</a>
    
    <a class="list-group-item " href="/blog/2013/02/18/new-project-openmusicfestival/">New Project: OpenMusicFestival</a>
    
    <a class="list-group-item " href="/blog/2013/01/24/help-me-launch-visualization-groupsdrupalorg/">Help Me Launch Visualization on groups.drupal.org!</a>
    
  </div>
</section>






      
    </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2014 - Your Name<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    <script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>








  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  </body>
</html>
