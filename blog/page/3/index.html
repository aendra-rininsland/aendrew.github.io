<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>aendrew.com</title>
  <meta name="author" content="Ændrew Rininsland">

  
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://aendrew.github.io/blog/page/3">
  <link href="/favicon.png" type="image/png" rel="icon">
  <link href="/atom.xml" rel="alternate" title="aendrew.com" type="application/atom+xml">

  <link href="//netdna.bootstrapcdn.com/bootswatch/3.1.1/yeti/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">


  <script src="/javascripts/libs/jquery/jquery-2.0.3.min.js"></script>
  

</head>

  <body   >
    <div id="wrap">
      <header role="banner">
        <nav class="navbar navbar-default" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">aendrew.com</a>
        </div>

        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li class="active">
                    <a href="/">Blog</a>
                </li>
                <li >
                    <a href="/blog/archives">Archives</a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="subscribe-rss" href="/atom.xml" title="subscribe via RSS">
                        <span class="visible-xs">RSS</span>
                        <img class="hidden-xs" src="/images/rss.png" alt="RSS">
                    </a>
                </li>
                
            </ul>
            
                <form class="search navbar-form navbar-right" action="http://google.com/search" method="GET">
                    <input type="hidden" name="q" value="site:aendrew.github.io">
                    <div class="form-group">
                        <input class="form-control" type="text" name="q" placeholder="Search">
                    </div>
                </form>
            
        </div>
    </div>
</nav>


      </header>
      <div id="main" class="container">
        <div id="content">
          <div class="row">
  <div class="page-content col-md-9">
    <div class="blog-index">
      
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-04-19T11:38:49+01:00" pubdate data-updated="true">Apr 19<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/content/potential-quickfix-if-wordpress-starts-refusing-recognize-page-templates-custom-taxonomies/">Potential Quickfix if WordPress Starts Refusing to Recognize Page Templates for Custom Taxonomies When Permalinks Are On</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>Is WordPress being sofa kingdom by returning Error 404 for custom taxonomies, or doesn&rsquo;t recognize taxonomy-{name}.php template files in your theme? Does it inexplicably <em>start</em> working if you set permalinks to &ldquo;default&rdquo;? Can you likewise find very little documentation as to why this might be the case?</p>

<p>In the hopes this will save somebody a bunch of time — and potential lost sleep, as is my case this morning — I&rsquo;m posting the awful hack-y solution that made stuff start working. I&rsquo;m <em>sure</em> this is the wrong way of doing this, and if you have any plugins that rewrite page URLs, it may make them stop working. No warranty at all if this doesn&rsquo;t work, and I will <em>not</em> provide support for anything related to custom posts/taxonomies (<em>Protip:</em> For projects outside of WordPress&#8217; post/pages/links/media content types, don&rsquo;t use WordPress — <strong><em>USE DRUPAL</em></strong>.).</p>

<p>Anyhoo, add the following to your theme&rsquo;s <strong>functions.php</strong>:</p>

<p>~~~
add_filter(&lsquo;init&rsquo;,&lsquo;flushRules&rsquo;);</p>

<p>// Remember to flush_rules() when adding rules
function flushRules(){</p>

<pre><code>global $wp_rewrite;
$wp_rewrite-&gt;flush_rules();
</code></pre>

<p>}
~~~</p>

<p><strong>Did this help you? Let me know by leaving a comment!</strong></p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-04-18T01:00:00+01:00" pubdate data-updated="true">Apr 18<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/content/pc-pro-twitter-creates-defence-only-patents/">PC Pro: Twitter Creates &#8216;Defence Only&#8217; Patents</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>My second article for PC Pro discussed the new &ldquo;defence only&rdquo; agreement Twitter created with its developers.</p>

<h2><a href="http://www.pcpro.co.uk/news/374155/twitter-creates-defence-only-patents?width=1000&height=800&iframe=true" class="colorbox-load">{Launch (same window)}</a></h2>

<h2><a href="http://www.pcpro.co.uk/news/374155/twitter-creates-defence-only-patents" target="_blank">{Launch (new tab/window)}</a></h2>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-04-18T01:00:00+01:00" pubdate data-updated="true">Apr 18<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/content/pc-pro-qualcomm-warns-snapdragon-chip-shortage/">PC Pro: Qualcomm Warns of Snapdragon Chip Shortage</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>My third article for PC Pro looked at the looming mobile device chip shortage at maker Qualcomm.</p>

<h2><a href="http://www.pcpro.co.uk/news/374197/qualcomm-warns-of-snapdragon-chip-shortage?width=1050&height=800&iframe=true" class="colorbox-load">{Launch (same window)}</a></h2>

<h2><a href="http://www.pcpro.co.uk/news/374197/qualcomm-warns-of-snapdragon-chip-shortage" target="_blank">{Launch (new tab/window)}</a></h2>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-04-18T01:00:00+01:00" pubdate data-updated="true">Apr 18<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/content/pc-pro-greenpeace-apples-cloud-needs-cleaner-energy/">PC Pro: Greenpeace: Apple&#8217;s Cloud Needs Cleaner Energy</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>My fourth article for PC Pro discussed a report put out by environmental group Greenpeace, which argued for using cleaner energy for cloud computing.</p>

<h2><a href="http://www.pcpro.co.uk/news/cloud/374152/greenpeace-apples-cloud-needs-cleaner-energy?width=1050&height=800&iframe=true" class="colorbox-load">{Launch (same window)}</a></h2>

<h2><a href="http://www.pcpro.co.uk/news/cloud/374152/greenpeace-apples-cloud-needs-cleaner-energy" target="_blank">{Launch (new tab/window)}</a></h2>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-04-17T01:00:00+01:00" pubdate data-updated="true">Apr 17<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/content/pc-pro-new-flashback-exploit-targeting-macs/">PC Pro: New Flashback Exploit Targeting Macs</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>My first article on the PC Pro website discussed a new variant of the Flashback exploit that was targeting Macs at the time.</p>

<h2><a href="http://www.pcpro.co.uk/news/security/374131/new-flashback-exploit-targeting-macs?width=1050&height=800&iframe=true" class="colorbox-load">{Launch (same window)}</a></h2>

<h2><a href="http://www.pcpro.co.uk/news/security/374131/new-flashback-exploit-targeting-macs" target="_blank">{Launch (new tab/window)}</a></h2>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-04-17T01:00:00+01:00" pubdate data-updated="true">Apr 17<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/content/guardian-razzie-awards-visualised-using-interlinked-graphic/">Guardian: Razzie Awards Visualised Using Interlinked Graphic</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>One of my first projects for the Guardian Data Store was using linked data to constructed a hierarchical graph of Golden Raspberry Award (&ldquo;Razzie&rdquo;) recipients. The graph itself is constructed in Javascript through the <a href="http://www.thejit.org">Javascript Infoviz Toolkit</a>.</p>

<h2><a href="http://www.guardian.co.uk/news/datablog/interactive/2012/apr/17/film-razzies-visualisation" target="_blank">{Launch (new tab/window)}</a></h2>

<h2><a href="http://www.guardian.co.uk/news/datablog/interactive/2012/apr/17/film-razzies-visualisation?width=1000&height=1000&iframe=true" class="colorbox-load">{Launch (same window)}</a></h2>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-04-16T01:00:00+01:00" pubdate data-updated="true">Apr 16<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/content/guardian-how-open-your-internet-interactive-map/">Guardian: How Open Is Your Internet? An Interactive Map</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>For a Guardian series on the openness of the Internet, I helped with building a data set that fed into the interactive below. I also wrote the <a href="http://www.guardian.co.uk/technology/datablog/2012/apr/16/internet-censorship-country-list">article</a> that accompanied it.</p>

<h2><a href="http://www.guardian.co.uk/technology/datablog/interactive/2012/apr/16/web-filtering-censorship?width=1000&height=800&iframe=true" class="colorbox-load">{Launch in same window}</a></h2>

<h2><a href="http://www.guardian.co.uk/technology/datablog/interactive/2012/apr/16/web-filtering-censorship" target="_blank">{Launch in new tab/window}</a></h2>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-04-12T20:31:28+01:00" pubdate data-updated="true">Apr 12<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/content/some-fun-semantic-web/">Some Fun With the Semantic Web</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>I&rsquo;ve recently been playing with the semantic web (for the uninitiated, the semantic web is a structuring of web content in terms of what it depicts instead of just a bunch of linked text files) and have come up with the following two queries &mdash; let me know if you find these useful!</p>

<p>For SPARQL (I.e., <a href="http://www.dbpedia.org">dbpedia</a>), the following should return how many competitors each country is sending to the London 2012 Olympics:</p>

<p><del>
SELECT ?country ?competitors WHERE {
?s foaf:page ?country .
?s rdf:type <a href="http://dbpedia.org/ontology/OlympicResult">http://dbpedia.org/ontology/OlympicResult</a>.
?s <a href="http://dbpedia.org/property/games">http://dbpedia.org/property/games</a> &ldquo;2012&rdquo;^^<a href="http://www.w3.org/2001/XMLSchema#int">http://www.w3.org/2001/XMLSchema#int</a> .
?s dbpprop:competitors ?competitors
} order by desc(?competitors)
</del></p>

<p>See results by going <a href="http://live.dbpedia.org/sparql?default-graph-uri=http%3A%2F%2Fdbpedia.org&amp;query=SELECT+%3Fcountry+%3Fcompetitors+WHERE+%7B%0D%0A%3Fs+foaf%3Apage+%3Fcountry+.+%0D%0A%3Fs+rdf%3Atype+%3Chttp%3A%2F%2Fdbpedia.org%2Fontology%2FOlympicResult%3E.%0D%0A%3Fs+%3Chttp%3A%2F%2Fdbpedia.org%2Fproperty%2Fgames%3E+%222012%22%5E%5E%3Chttp%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema%23int%3E+.%0D%0A%3Fs+dbpprop%3Acompetitors+%3Fcompetitors%0D%0A%7D+order+by+desc%28%3Fcompetitors%29&amp;should-sponge=grab-all&amp;format=text%2Fhtml&amp;timeout=0&amp;debug=on">here.</a></p>

<p>Meanwhile, if you want a MQL query (I.e., <a href="http://www.freebase.org">Freebase</a>), use the following to give a comprehensive array of Golden Raspberry Award &ldquo;winners&rdquo;:</p>

<p>~~~</p>

<pre><code>    query: {
          "id": "/en/golden_raspberry_awards",
          "type": "/award/award",
          "category": [{
            "name": null,
            "name!=" : "Razzie Award for Worst Actor of the Decade", 
            "AND:name!=" : "Razzie Award for Worst Actress of the Decade",
            "nominees": [{          
                  "year": null,
                  "award_nominee": [],
                  "nominated_for": [],
                 "sort": "-year"
                }], /* nominees */
            "winners": [{
              "s1:/type/reflect/any_master" : [{
                "type": "/award/award_winner",
                "name": null,
                "key" : [{
                  "namespace" : "/wikipedia/en",
                  "value": null,
                  "limit": 1
                    }] /* key */
                }], /* award_winner */
              "s2:/type/reflect/any_master" : [{
                "type": "/award/award_winning_work",
                "name": null,
                }] /* award_winning_work */
            }] /* winners */
        }] /* category */
    }  /* query */      
</code></pre>

<p>~~~</p>

<p>Output <a href="https://api.freebase.com/api/service/mqlread?query={%22query%22:{%22id%22:%22/en/golden_raspberry_awards%22,%22type%22:%22/award/award%22,%22category%22:[{%22name%22:null,%22nominees%22:[{%22year%22:null,%22award_nominee%22:[],%22nominated_for%22:[],%22sort%22:%22-year%22}],%22winners%22:[{%22/type/reflect/any_master%22:[{%22type%22:%22/award/award_winning_work%22,%22name%22:null}]}]}]}}">here</a>.</p>

<p>I&rsquo;ll be writing a fairly comprehensive blog tutorial on this sometime in the next few weeks; follow me on <a href="http://www.twitter.com">Twitter</a> for updates.</p>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-04-12T01:00:00+01:00" pubdate data-updated="true">Apr 12<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/content/guardian-londons-health-compared-and-mapped/">Guardian: London&#8217;s Health Compared and Mapped</a></h1>
    
  </header>


  <div class="entry-content clearfix"><p>For the Guardian&rsquo;s London 2012 municipal election, I did a writeup about how different boroughs compared in terms of health indicators.</p>

<h2><a href="http://www.guardian.co.uk/uk/datablog/2012/apr/12/london-health-map-local-authorities?width=1000&height=800&iframe=true" class="colorbox-load">{Launch (same window)}</a></h2>

<h2><a href="http://www.guardian.co.uk/uk/datablog/2012/apr/12/london-health-map-local-authorities" target="_blank">{Launch (new tab/window)}</a></h2>
</div>
  
  


        </article>
      
      
        <article class="post">
          
  <header class="page-header">
    
      <p class="meta text-muted text-uppercase">
        












<span class="glyphicon glyphicon-calendar"></span> <time datetime="2012-04-09T21:03:03+01:00" pubdate data-updated="true">Apr 9<span>th</span>, 2012</time>
        
      </p>
    
    
      <h1 class="entry-title"><a href="/content/importing-proprietary-user-database-buddypress-boss/">Importing a Proprietary User Database Into BuddyPress Like a Boss</a></h1>
    
  </header>


  <div class="entry-content clearfix"><h3>Disclaimer: this may have changed in more recent versions of BuddyPress, so your mileage may very substantially. Please let me know if something&rsquo;s not working, but caveat lector none of this comes with any warranty or support whatsoever.</h3>

<p>A bit over a year ago, I <a href="http://wordpress.stackexchange.com/questions/4948/importing-users-to-buddypress-with-custom-fields">asked a question</a> on the <a href="http://wordpress.stackexchange.com">WordPress Stack Exchange site</a> about importing content from a proprietary database into <a href="http://www.buddypress.org">BuddyPress</a>, the &ldquo;social network in a box&rdquo; plugin for <a href="http://www.wordpress.org">WordPress</a>. Not getting anything resembling a response, I ended up writing a whole schwack of MySQL statements. After answering my question on SO, I&rsquo;ve averaged about an email every 4-6 months about how I managed to do what I did. Alas, I was a total jerk and couldn&rsquo;t find the SQL I use and ended up ignoring most of them.</p>

<p><strong>Until today!</strong></p>

<p>Note that the following is <strong>not</strong> a one-click script that will import your users. It&rsquo;s a starting point I&rsquo;m posting in hopes that somebody finds it useful. You <strong>will</strong> need to modify it for your purposes, and <em>please, please, <strong>PLEASE</strong></em> don&rsquo;t use this on a production database, and make backups frequently. I take no responsibility if you screw something up with it!</p>

<p>Also attached to this post is an importer script <a href="http://www.dimunation.com">Michael Dimunation</a> sent me awhile back after I emailed him the SQL query in question. I have no idea what it does and have never used it &mdash; again, same caveats apply, but hopefully somebody finds it useful.</p>

<h2>proprietary_to_wp.sql</h2>

<p>~~~~</p>

<p>/<em> Query 1 </em>/</p>

<p>INSERT INTO <code>WORDPRESS</code>.<code>wp_users</code> (<code>user_login</code>, <code>user_pass</code>, <code>user_nicename</code>, <code>user_email</code>,  <code>user_registered</code>, <code>display_name</code>)</p>

<p>SELECT
a.<code>username</code> as <code>user_login</code>,
MD5(a.<code>password</code>) as <code>user_pass</code>,
CONCAT(a.<code>first_name</code>,&lsquo;&ndash;&rsquo;,a.<code>last_name</code>) as <code>user_nicename</code>,
b.<code>location_name</code> as <code>user_email</code>,
a.<code>row_created_date</code> as <code>user_registered</code>,
CONCAT(a.<code>first_name</code>,&lsquo; &rsquo;,a.<code>last_name</code>) as <code>user_displayname</code></p>

<p>FROM <code>ORIGINAL</code>.<code>business_associate</code> AS a</p>

<p>LEFT JOIN <code>ORIGINAL</code>.<code>ba_contact_info</code> AS b ON b.<code>business_associate</code> = a.<code>business_associate</code> AND b.<code>location_id</code> = &lsquo;email&rsquo;
WHERE a.<code>ba_type</code> = &lsquo;person&rsquo;;</p>

<p>/<em> Query 2 &mdash; First Name </em>/</p>

<p>INSERT INTO <code>WORDPRESS</code>.<code>wp_usermeta</code> (<code>user_id</code>, <code>meta_key</code>, <code>meta_value</code>)</p>

<p>SELECT
<code>ID</code> as <code>user_id</code>,
&lsquo;first_name&rsquo; as <code>meta_key</code>,
SUBSTRING_INDEX(<code>display_name</code>, &lsquo; &rsquo;, 1) as <code>meta_value</code></p>

<p>FROM <code>WORDPRESS</code>.<code>wp_users</code>;</p>

<p>/<em> Query 3 &mdash; Last Name </em>/</p>

<p>INSERT INTO <code>WORDPRESS</code>.<code>wp_usermeta</code> (<code>user_id</code>, <code>meta_key</code>, <code>meta_value</code>)</p>

<p>SELECT
<code>ID</code> as <code>user_id</code>,
&lsquo;last_name&rsquo; as <code>meta_key</code>,
SUBSTRING(<code>display_name</code>, INSTR(<code>display_name</code>, &lsquo; &rsquo;)) as <code>meta_value</code></p>

<p>FROM <code>WORDPRESS</code>.<code>wp_users</code>;</p>

<p>/<em> Query 4 &mdash; Nick Name </em>/</p>

<p>INSERT INTO <code>WORDPRESS</code>.<code>wp_usermeta</code> (<code>user_id</code>, <code>meta_key</code>, <code>meta_value</code>)</p>

<p>SELECT
<code>ID</code> as <code>user_id</code>,
&lsquo;nickname&rsquo; as <code>meta_key</code>,
<code>display_name</code> as <code>meta_value</code></p>

<p>FROM <code>WORDPRESS</code>.<code>wp_users</code>;</p>

<p>/<em> Query 5 &mdash; Last Activity </em>/</p>

<p>INSERT INTO <code>WORDPRESS</code>.<code>wp_usermeta</code> (<code>user_id</code>, <code>meta_key</code>, <code>meta_value</code>)</p>

<p>SELECT
<code>ID</code> as <code>user_id</code>,
&lsquo;last_activity&rsquo; as <code>meta_key</code>,
&lsquo;2010-12-06 20:46:27&rsquo; as <code>meta_value</code></p>

<p>FROM <code>WORDPRESS</code>.<code>wp_users</code>;</p>

<p>/* Broken from here &hellip;</p>

<p>//user privs query 5.1</p>

<p>INSERT INTO <code>WORDPRESS</code>.<code>wp_usermeta</code> (<code>user_id</code>, <code>meta_key</code>, <code>meta_value</code>)</p>

<p>SELECT
<code>ID</code> as <code>user_id</code>,
&lsquo;wp_capabilities&rsquo; as <code>meta_key</code>,
&lsquo;a:1:{s:15:&#8217;s2member_level1&rsquo;;s:1:&lsquo;1&rsquo;;}&lsquo; as <code>meta_value</code></p>

<p>FROM <code>WORDPRESS</code>.<code>wp_users</code></p>

<p>WHERE <code>ID</code> != &lsquo;1&rsquo; OR &lsquo;247&rsquo; OR &lsquo;379&rsquo;;</p>

<p>//user level query 6</p>

<p>INSERT INTO <code>WORDPRESS</code>.<code>wp_usermeta</code> (<code>user_id</code>, <code>meta_key</code>, <code>meta_value</code>)</p>

<p>SELECT
<code>ID</code> as <code>user_id</code>,
&lsquo;wp_user_level&rsquo; as <code>meta_key</code>,
&lsquo;0&rsquo; as <code>meta_value</code></p>

<p>FROM <code>WORDPRESS</code>.<code>wp_users</code>;</p>

<p> &hellip;broken to here */</p>

<p>/<em> Query 7 &mdash; BP Name </em>/</p>

<p>INSERT INTO <code>WORDPRESS</code>.<code>wp_bp_xprofile_data</code> (<code>field_id</code>, <code>user_id</code>, <code>value</code>, <code>last_updated</code>)</p>

<p>SELECT
&lsquo;1&rsquo; as <code>field_id</code>,
<code>ID</code> as <code>user_id</code>,
<code>display_name</code> as <code>value</code>,
NOW() as <code>last_updated</code>
FROM <code>WORDPRESS</code>.<code>wp_users</code>;</p>

<p>/<em> Query 8 &mdash; BP Phone </em>/</p>

<p>INSERT INTO <code>WORDPRESS</code>.<code>wp_bp_xprofile_data</code> (<code>field_id</code>, <code>user_id</code>, <code>value</code>, <code>last_updated</code>)</p>

<p>SELECT
&lsquo;4&rsquo; as <code>field_id</code>,
e.<code>ID</code> as <code>user_id</code>,
c.<code>location_name</code> as <code>value</code>,
NOW() as <code>last_updated</code></p>

<p>FROM <code>ORIGINAL</code>.<code>business_associate</code> as a</p>

<p>LEFT JOIN <code>ORIGINAL</code>.<code>ba_contact_info</code> AS b ON b.<code>business_associate</code> = a.<code>business_associate</code> AND b.<code>location_id</code> = &lsquo;email&rsquo;
LEFT JOIN <code>ORIGINAL</code>.<code>ba_contact_info</code> AS c ON c.<code>business_associate</code> = a.<code>business_associate</code> AND c.<code>location_id</code> = &lsquo;phone&rsquo;
LEFT JOIN <code>ORIGINAL</code>.<code>ba_contact_info</code> AS d ON d.<code>business_associate</code> = a.<code>business_associate</code> AND d.<code>location_id</code> = &lsquo;fax&rsquo;
LEFT JOIN <code>WORDPRESS</code>.<code>wp_users</code> as e ON e.<code>user_login</code> = a.<code>username</code>
WHERE <code>ba_type</code> = &lsquo;person&rsquo;;</p>

<p>/<em> Query 9 &mdash; BP Fax </em>/</p>

<p>INSERT INTO <code>WORDPRESS</code>.<code>wp_bp_xprofile_data</code> (<code>field_id</code>, <code>user_id</code>, <code>value</code>, <code>last_updated</code>)</p>

<p>SELECT
&lsquo;5&rsquo; as <code>field_id</code>,
e.<code>ID</code> as <code>user_id</code>,
d.<code>location_name</code> as <code>value</code>,
NOW() as <code>last_updated</code></p>

<p>FROM <code>ORIGINAL</code>.<code>business_associate</code> as a</p>

<p>LEFT JOIN <code>ORIGINAL</code>.<code>ba_contact_info</code> AS d ON d.<code>business_associate</code> = a.<code>business_associate</code> AND d.<code>location_id</code> = &lsquo;fax&rsquo;
LEFT JOIN <code>WORDPRESS</code>.<code>wp_users</code> as e ON e.<code>user_login</code> = a.<code>username</code>
WHERE <code>ba_type</code> = &lsquo;person&rsquo;;</p>

<p>/<em> Query 10 &mdash; BP Email </em>/</p>

<p>INSERT INTO <code>WORDPRESS</code>.<code>wp_bp_xprofile_data</code> (<code>field_id</code>, <code>user_id</code>, <code>value</code>, <code>last_updated</code>)</p>

<p>SELECT
&lsquo;6&rsquo; as <code>field_id</code>,
e.<code>ID</code> as <code>user_id</code>,
d.<code>location_name</code> as <code>value</code>,
NOW() as <code>last_updated</code></p>

<p>FROM <code>ORIGINAL</code>.<code>business_associate</code> as a</p>

<p>LEFT JOIN <code>ORIGINAL</code>.<code>ba_contact_info</code> AS d ON d.<code>business_associate</code> = a.<code>business_associate</code> AND d.<code>location_id</code> = &lsquo;email&rsquo;
LEFT JOIN <code>WORDPRESS</code>.<code>wp_users</code> as e ON e.<code>user_login</code> = a.<code>username</code>
WHERE <code>ba_type</code> = &lsquo;person&rsquo;;</p>

<p>/<em> Query 11 &mdash; BP Company </em>/</p>

<p>INSERT INTO <code>WORDPRESS</code>.<code>wp_bp_xprofile_data</code> (<code>field_id</code>, <code>user_id</code>, <code>value</code>, <code>last_updated</code>)</p>

<p>SELECT
&lsquo;2&rsquo; as <code>field_id</code>,
e.<code>ID</code> as <code>user_id</code>,
f.<code>ba_name</code> as <code>value</code>,
NOW() as <code>last_updated</code></p>

<p>FROM <code>ORIGINAL</code>.<code>business_associate</code> as a</p>

<p>LEFT JOIN <code>ORIGINAL</code>.<code>ba_employee</code> AS d ON d.<code>employee_ba_id</code> = a.<code>business_associate</code>
LEFT JOIN <code>WORDPRESS</code>.<code>wp_users</code> as e ON e.<code>user_login</code> = a.<code>username</code>
INNER JOIN <code>ORIGINAL</code>.<code>business_associate</code> as f ON f.<code>business_associate</code> = d.<code>employer_ba_id</code></p>

<p>WHERE a.<code>ba_type</code> = &lsquo;person&rsquo;;
~~~~</p>
</div>
  
  


        </article>
      
    </div>

    <ul class="pager">
      
        <li class="previous"><a href="/blog/page/4/">&larr;&nbsp;Older</a></li>
      
      <li><a href="/blog/archives">Blog Archives</a></li>
      
        <li class="next"><a href="/blog/page/2/">Newer&nbsp;&rarr;</a></li>
      
    </ul>
  </div>

  
    <aside class="sidebar col-md-3">
      
        <section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Recent Posts</h3>
  </div>
  
  <div id="recent_posts" class="list-group">
    
    <a class="list-group-item " href="/content/migrate-wordtour-openmusicfestival/">Migrate From WordTour to OpenMusicFestival</a>
    
    <a class="list-group-item " href="/content/podsix-lives/">PodSix Lives!</a>
    
    <a class="list-group-item " href="/content/new-project-github-pages-drupal-7-also-im-git-vetted/">New Project: GitHub Pages for Drupal 7 (Also: I&#8217;m Git Vetted!)</a>
    
    <a class="list-group-item " href="/content/new-project-openmusicfestival/">New Project: OpenMusicFestival</a>
    
    <a class="list-group-item " href="/content/help-me-launch-visualization-groupsdrupalorg/">Help Me Launch Visualization on groups.drupal.org!</a>
    
  </div>
</section>

<section class="panel panel-default clearfix">
  <div class="panel-heading">
      <h3 class="panel-title">GitHub Repos</h3>
  </div>
  <div class="list-group" id="gh_repos">
    <p class="loading">Status updating&#8230;</p>
  </div>
  
    <div class="gh-profile-link pull-right text-muted">
      <a href="https://github.com/aendrew">@aendrew</a> on GitHub
    </div>
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'aendrew',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">On Delicious</h3>
  </div>
  <div class="panel-body">
    <div id="delicious"></div>
    <script type="text/javascript" src="http://feeds.delicious.com/v2/json/aendrew?count=3&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
    <p><a href="http://delicious.com/aendrew">My Delicious Bookmarks &raquo;</a></p>
  </div>
</section>



<section class="googleplus googleplus-hidden panel panel-default">
  <div class="panel-body">
    <h1>
      <a href="https://plus.google.com/+ÆndrewRininsland?rel=author">
        <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
        Google+
      </a>
    </h1>
  </div>
</section>



      
    </aside>
  
</div>

        </div>
      </div>
    </div>
    <footer role="contentinfo"><div class="container">
    <p class="text-muted credits">
  Copyright &copy; 2014 - Ændrew Rininsland<br>
  <small>
      <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>,
      <span class="credit">customized with <a href="https://github.com/kAworu/octostrap3">octostrap3</a></span>.
  </small>
</p>

</div>
</footer>
    <script src="/assets/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/javascripts/modernizr-2.0.js"></script>


<script type="text/javascript">
      var disqus_shortname = 'aendrew';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





  </body>
</html>
